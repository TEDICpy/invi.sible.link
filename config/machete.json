{
  "name": "machete",
  "schema": {
    "statistics": "statistics",
    "campaigns": "campaigns",
    "subjects": "subjects"
  },
  "mongodb": "mongodb://localhost/ivl",
  "servers": [
      { "name": "HK", "host": "http://hk-vp.sible.link:7300" },
      { "name": "AMS", "host": "http://ams-vp.sible.link:7300" },
      { "name": "WS", "host": "http://ws-vp.sible.link:7300" },
      { "name": "Core", "host": "https://invi.sible.link" }
  ],
  "tasks": [{
      "name": "statistics",
      "chain": {
        "filter": null,
        "pickFromCore": null,
        "sources": [ "HK", "AMS", "WS", "Core" ],
        "fetch": "system/info",
        "singleProcess": null,
        "collectiveProcess": null,
        "save": "statistics"
      }
  },{
      "name": "Italian Media",
      "chain": {
        "filter": { "name" : "italian-media" },
        "pickFromCore": "bySubjectLast7",
        "sources": [ "HK", "AMS", "WS" ],
        "fetch": "getBySubjectId",
        "singleProcess": null,
        "collectiveProcess": [ "defineWorst", "spotDiscriminations" ],
        "save": "campaigns"
      }
  },{
      "name": "Brasil",
      "chain": {
        "filter": { "iso3166": "BR" },
        "pickFromCore": "bySubjectLast7",
        "sources": [ "HK", "AMS", "WS" ],
        "fetch": "getBySubjectId",
        "singleProcess": null,
        "collectiveProcess": [ "defineWorst", "spotDiscriminations" ],
        "save": "campaigns"
      }
  },{
      "name": "Pornography",
      "chain": {
        "filter": { "kind": "category", "name": "Pornography" },
        "pickFromCore": "bySubjectLast7",
        "sources": [ "HK", "AMS", "WS" ],
        "fetch": "getBySubjectId",
        "singleProcess": null,
        "collectiveProcess": [ "defineWorst", "spotDiscriminations" ],
        "save": "campaigns"
      }
  }]
}
